{"ast":null,"code":"import axios from \"axios\"; // import querystring from 'query-string'\n\nconst axiosClient = axios.create({\n  baseURL: 'http://127.0.0.1:8000/api/',\n  headers: {\n    'content-Type': 'application/json',\n    \"Authorization\": \"Bearer \"\n  } // withCredentials: true,\n  // paramsSerializer: params => querystring.stringify(params),\n\n}); // Add a request interceptor\n\naxiosClient.interceptors.request.use(function (config) {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    config.headers.Authorization = \"Bearer \" + token;\n  }\n\n  return config;\n});\naxiosClient.interceptors.response.use(response => {\n  // if ( response && response.data) {\n  //     return response.data\n  // }\n  return response;\n}, error => {\n  // handleError\n  if (error.response) {\n    console.log(\"Error reponse\");\n    return error.response;\n  }\n});\nexport default axiosClient;","map":{"version":3,"sources":["/Users/nguyenhuuan/Documents/GitHub/citizenV/frontend/src/axios/myapi.js"],"names":["axios","axiosClient","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AAEA,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC7BC,EAAAA,OAAO,EAAE,4BADoB;AAE7BC,EAAAA,OAAO,EAAE;AACL,oBAAgB,kBADX;AAEL,qBAAiB;AAFZ,GAFoB,CAM7B;AACA;;AAP6B,CAAb,CAApB,C,CAUA;;AACAH,WAAW,CAACI,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC,CAAqC,UAAUC,MAAV,EAAkB;AACnD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIF,KAAJ,EAAW;AACPD,IAAAA,MAAM,CAACJ,OAAP,CAAeQ,aAAf,GAAgC,YAAaH,KAA7C;AACH;;AACD,SAAOD,MAAP;AACH,CAND;AAQAP,WAAW,CAACI,YAAZ,CAAyBQ,QAAzB,CAAkCN,GAAlC,CAAuCM,QAAD,IAAc;AAChD;AACA;AACA;AACA,SAAOA,QAAP;AACH,CALD,EAKIC,KAAD,IAAW;AACV;AAEA,MAAGA,KAAK,CAACD,QAAT,EAAmB;AACfE,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,WAAOF,KAAK,CAACD,QAAb;AACH;AACJ,CAZD;AAcA,eAAeZ,WAAf","sourcesContent":["import axios from \"axios\"\n\n// import querystring from 'query-string'\n\nconst axiosClient = axios.create({\n    baseURL: 'http://127.0.0.1:8000/api/', \n    headers: {\n        'content-Type': 'application/json',\n        \"Authorization\": \"Bearer \"\n    },\n    // withCredentials: true,\n    // paramsSerializer: params => querystring.stringify(params),\n})\n\n// Add a request interceptor\naxiosClient.interceptors.request.use(function (config) {\n    const token = localStorage.getItem('token')\n    if (token) {\n        config.headers.Authorization =  \"Bearer \"  + token\n    }\n    return config\n})\n\naxiosClient.interceptors.response.use((response) => {\n    // if ( response && response.data) {\n    //     return response.data\n    // }\n    return response\n}, (error) => {\n    // handleError\n    \n    if(error.response) {\n        console.log(\"Error reponse\")\n        return error.response\n    }\n})\n\nexport default axiosClient"]},"metadata":{},"sourceType":"module"}