{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/views/ListCitizens/CitizenProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router';\nimport TextField from \"@mui/material/TextField\";\nimport { createTheme } from '@mui/material/styles';\nimport { ThemeProvider } from '@mui/material/styles';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormLabel from '@mui/material/FormLabel';\nimport Select from '@mui/material/Select';\nimport InputLabel from '@mui/material/InputLabel';\nimport Button from \"@mui/material/Button\";\nimport { Ethnics } from \"../../constants/citizen/citizens\";\nimport { Religions } from \"../../constants/citizen/citizens\";\nimport { LearningLevels } from \"../../constants/citizen/citizens\";\nimport { Occupations } from \"../../constants/citizen/citizens\";\nimport MenuItem from '@mui/material/MenuItem';\nimport { DatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { addToast } from \"../../utils\";\nimport { getCitizenById, updateCitizen, deleteCitizen } from \"../../api/apiCitizens\";\nimport { updateCitizenInTable, deleteCitizenInTable } from '../../redux/reducers/citizens/citizens.thunk';\nimport Loader from \"../../core/Loader\";\nimport { loadAgenciesAsync } from '../../redux/reducers/agencies/agencies.thunk';\nimport '../../style/citizen.css';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CitizenProfile = props => {\n  _s();\n\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  let editable = currentUser && (currentUser.level === \"3\" || currentUser.level === \"4\") ? true : false;\n  const {\n    agencies\n  } = useSelector(state => {\n    return state.agencies;\n  });\n  useEffect(() => {\n    if (agencies.length === 0) {\n      dispatch(loadAgenciesAsync());\n    }\n  }, []);\n  const subAgencies = [];\n  const citizenById = {\n    id: \"\",\n    id_number: \"\",\n    name: \"\",\n    dob: \"\",\n    gender: \"\",\n    ethnic: \"\",\n    religion: \"\",\n    educational: \"\",\n    declarer: \"\",\n    occupations: \"\",\n    village_id: \"\",\n    home_town: \"\",\n    address_line1: \"\",\n    address_line2: \"\"\n  };\n  const error = {\n    id_number: \"\",\n    name: \"\",\n    home_town: \"\",\n    address_line1: \"\",\n    address_line2: \"\"\n  };\n  const {\n    id\n  } = props;\n  const dispatch = useDispatch();\n  const Transition = /*#__PURE__*/React.forwardRef(function Transition(props, ref) {\n    return /*#__PURE__*/_jsxDEV(Slide, {\n      direction: \"up\",\n      ref: ref,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 12\n    }, this);\n  });\n  const [openDialog, setOpenDialog] = useState(false);\n\n  const handleClickOpenDialog = () => {\n    setOpenDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n\n  const [citizen, setData] = useState(citizenById);\n  const [er, setError] = useState(error);\n  const [inputAddress_line1, setInputAddress_line1] = React.useState('');\n  const [inputAddress_line2, setInputAddress_line2] = React.useState('');\n  useEffect(() => {\n    (async () => {\n      try {\n        let res = await getCitizenById(id);\n\n        if (res.status === 200) {\n          setData(res.data);\n          setInputAddress_line1(res.data.address_line1);\n          setInputAddress_line2(res.data.address_line2);\n        } else if (res.status === 404) {\n          alert(\"Not found\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n  const theme = createTheme({\n    palette: {\n      primary: {\n        main: \"#2E3192\"\n      }\n    }\n  });\n  const styles = {\n    title: {\n      fontWeight: \"bold\",\n      fontSize: \"25px\",\n      paddingBottom: \"1vh\"\n    }\n  };\n  const navigate = useNavigate();\n\n  const handleChangeError = (name, value) => {\n    setError({ ...er,\n      [name]: value\n    });\n  };\n\n  const handleChangeValue = e => {\n    if (!isNaN(Date.parse(e))) {\n      setData({ ...citizen,\n        dob: new Date(e).toLocaleDateString('en-CA')\n      });\n    } else if (e.target.name === \"educational\") {\n      setData({ ...citizen,\n        educational: e.target.value\n      });\n    } else if (e.target.value === \"male\" || e.target.value === \"female\") {\n      setData({ ...citizen,\n        gender: e.target.value\n      });\n    } else if (e.target.name === \"village_id\") {\n      setData({ ...citizen,\n        village_id: e.target.value\n      });\n    } else {\n      const name = e.target.name || e.target.id;\n      setData({ ...citizen,\n        [name]: e.target.value\n      });\n    }\n  };\n\n  const handleUpdate = e => {\n    e.preventDefault();\n\n    if (citizen.name === \"\") {\n      validateNameInput(e);\n    }\n\n    if (citizen.home_town === \"\") {\n      validateHomeTownInput(e);\n    }\n\n    if (citizen.address_line1 === \"\") {\n      validateAddress_line1Input(e);\n    }\n\n    if (citizen.address_line2 === \"\") {\n      validateAddress_line2Input(e);\n    }\n\n    if (citizen.name !== \"\" && citizen.home_town !== \"\" && citizen.address_line1 !== \"\" && citizen.address_line2 !== \"\") {\n      let temp = citizen;\n      temp.address_line1 = inputAddress_line1;\n      temp.address_line2 = inputAddress_line2;\n\n      (async () => {\n        try {\n          let res = await updateCitizen(temp);\n\n          if (res.status === 200) {\n            dispatch(updateCitizenInTable(temp));\n            addToast({\n              type: 'success',\n              title: 'Xong!',\n              message: `Cập nhật thông tin công dân thành công.`,\n              duration: 5000\n            });\n            navigate('/list-citizens');\n          } else {\n            addToast({\n              type: 'error',\n              title: 'Hỏng!',\n              message: `Đã xảy ra lỗi khi cập nhật thông tin công dân.`,\n              duration: 5000\n            });\n          }\n        } catch (e) {\n          if (e.response && e.response.data && e.response.data.id_number) {\n            if (e.response.data.id_number === \"citizen width this id_number has exist\") {\n              setError({ ...error,\n                id_number: \"Số CMND/CCCD đã tồn tại!\"\n              });\n            }\n          }\n        }\n      })();\n    }\n  };\n\n  const handleDelete = () => {\n    (async () => {\n      try {\n        let res = await deleteCitizen(citizen.id);\n\n        if (res.status === 200 || res.status === 204) {\n          dispatch(deleteCitizenInTable(citizen.id));\n          addToast({\n            type: 'success',\n            title: 'Xong!',\n            message: `Xóa thông tin công dân thành công.`,\n            duration: 5000\n          });\n          navigate('/list-citizens');\n        } else {\n          addToast({\n            type: 'error',\n            title: 'Hỏng!',\n            message: `Đã xảy ra lỗi khi cập nhật thông tin công dân.`,\n            duration: 5000\n          });\n        }\n      } catch (error) {}\n    })();\n  };\n\n  const containUpperCase = word => {\n    if (/[ÁÀÃẢẠĂẮẰẲẴẶÂẤẦẨẪẬĐÉÈẺẼẸÊẾỀỂỄỆÍÌỈĨỊÔỐỒỔỖỘƠỚỜỞỠỢÓÒÕỎỌƯỨỪỬỮỰÚÙỦŨỤÝỲỶỸỴA-Z]/.test(word)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const containLowerCase = word => {\n    if (/[aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]/.test(word)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const containSpecialCharacter = word => {\n    // except for white-space\n    for (var x = 0; x < word.length; x++) {\n      if (!containLowerCase(word[x]) && !containUpperCase(word[x]) && !/\\d/.test(word[x]) && !/\\s/.test(word[x])) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  const allIsNumber = word => {\n    for (var x = 0; x < word.length; x++) {\n      if (!/\\d/.test(word[x])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const validateNameInput = event => {\n    const content = event.target.value;\n    const words = content.split(/\\s/);\n\n    if (content === \"\") {\n      handleChangeError(\"name\", \"Không được để trống!\");\n    } else if (content[0] === \" \") {\n      handleChangeError(\"name\", \"Không được bắt đầu bằng khoảng trắng!\");\n    } else if (content[content.length - 1] === \" \") {\n      handleChangeError(\"name\", \"Không được kết thúc bằng khoảng trắng!\");\n    } else if (/\\d/.test(content)) {\n      handleChangeError(\"name\", \"Không được chứa chữ số!\");\n    } else if (containLowerCase(content[0]) || containLowerCase(words[words.length - 1][0])) {\n      handleChangeError(\"name\", \"Viết hoa ký tự đầu tiên của mỗi từ!\");\n    } else if (content.length > 1 && containUpperCase(content.substr(1)) && words.length < 2 || words[words.length - 1].length > 1 && containUpperCase(words[words.length - 1].substr(1))) {\n      handleChangeError(\"name\", \"Chỉ viết hoa chữ cái đầu tiên của từ!\");\n    } else if (containSpecialCharacter(content)) {\n      handleChangeError(\"name\", \"Không được chứa ký tự đặc biệt!\");\n    } else if (content.split(/\\s/).length - 1 < 1) {\n      handleChangeError(\"name\", \"Ít nhất 2 từ đơn!\");\n    } else {\n      handleChangeError(\"name\", \"\");\n    }\n  };\n\n  const validateId_numberInput = event => {\n    const content = event.target.value;\n\n    if (allIsNumber(content) === false) {\n      handleChangeError(\"id_number\", \"Chỉ được chứa chữ số!\");\n    } else if (0 < content.length && content.length < 9) {\n      handleChangeError(\"id_number\", \"Số CMND/CCCD phải đủ 9/12 chữ số hoặc để trống khi chưa được cấp!\");\n    } else if (9 < content.length && content.length < 12) {\n      handleChangeError(\"id_number\", \"Số CCCD phải đủ 12 chữ số!\");\n    } else if (content.length > 12) {\n      handleChangeError(\"id_number\", \"Không hợp lệ!\");\n    } else {\n      handleChangeError(\"id_number\", \"\");\n    }\n  };\n\n  const validateHomeTownInput = event => {\n    const content = event.target.value;\n\n    if (content.length === 0) {\n      handleChangeError(\"home_town\", \"Không được để trống!\");\n    } else {\n      handleChangeError(\"home_town\", \"\");\n    }\n  };\n\n  const validateAddress_line1Input = event => {\n    const content = event.target.value;\n\n    if (content.length === 0) {\n      handleChangeError(\"address_line1\", \"Không được để trống!\");\n    } else {\n      handleChangeError(\"address_line1\", \"\");\n    }\n  };\n\n  const validateAddress_line2Input = event => {\n    const content = event.target.value;\n\n    if (content.length === 0) {\n      handleChangeError(\"address_line2\", \"Không được để trống!\");\n    } else {\n      handleChangeError(\"address_line2\", \"\");\n    }\n  };\n\n  const updateAgencyList = () => {\n    for (var i = 0; i < agencies.length; i++) {\n      subAgencies.push(agencies[i].name);\n    }\n  };\n\n  if (citizen.id === \"\") {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"profile\",\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.title,\n        children: \"Th\\xF4ng tin chi ti\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          error: er.name !== \"\",\n          helperText: er.name !== \"\" ? er.name : \"\",\n          value: citizen.name,\n          id: \"name\",\n          margin: \"dense\",\n          label: \"H\\u1ECD v\\xE0 t\\xEAn\",\n          variant: \"standard\",\n          onChange: handleChangeValue,\n          onBlur: validateNameInput,\n          style: {\n            width: \"100%\"\n          },\n          inputProps: {\n            style: {\n              fontSize: \"17px\"\n            }\n          },\n          InputProps: {\n            readOnly: !editable\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            width: \"100%\",\n            marginTop: \"1.5vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            style: {\n              width: \"30%\"\n            },\n            component: \"fieldset\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              component: \"legend\",\n              style: {\n                fontSize: \"13px\"\n              },\n              children: \"Gi\\u1EDBi t\\xEDnh *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n              row: true,\n              \"aria-label\": \"gender\",\n              id: \"gender\",\n              value: citizen.gender,\n              onChange: handleChangeValue,\n              children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                value: \"male\",\n                control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 59\n                }, this),\n                label: \"Nam\",\n                disabled: !editable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                value: \"female\",\n                control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 61\n                }, this),\n                label: \"N\\u1EEF\",\n                disabled: !editable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              id: \"dob\",\n              style: {\n                width: \"30%\"\n              },\n              disableFuture: true,\n              value: citizen.dob,\n              autoOk: true,\n              openTo: \"year\",\n              format: \"dd/MM/yyyy\",\n              label: \"Ng\\xE0y sinh\",\n              views: [\"year\", \"month\", \"date\"],\n              onChange: handleChangeValue,\n              readOnly: !editable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            error: er.id_number !== \"\",\n            helperText: er.id_number ? er.id_number : \"\",\n            value: citizen.id_number,\n            style: {\n              width: \"30%\"\n            },\n            id: \"id_number\",\n            label: \"S\\u1ED1 CCCD/CMND\",\n            variant: \"standard\",\n            onChange: handleChangeValue,\n            onBlur: validateId_numberInput,\n            InputProps: {\n              readOnly: !editable\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            width: \"100%\",\n            marginTop: \"1.5vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"standard\",\n            sx: {\n              m: 1\n            },\n            style: {\n              width: \"30%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"D\\xE2n t\\u1ED9c *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"ethnic\",\n              value: citizen.ethnic,\n              label: \"D\\xE2n t\\u1ED9c\",\n              onChange: handleChangeValue,\n              inputProps: {\n                readOnly: !editable\n              },\n              children: Ethnics.map((item, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item,\n                children: item\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 48\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"standard\",\n            sx: {\n              m: 1\n            },\n            style: {\n              width: \"30%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"T\\xF4n gi\\xE1o *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"religion\",\n              value: citizen.religion === \"\" ? \"Không\" : citizen.religion,\n              label: \"T\\xF4n gi\\xE1o\",\n              onChange: handleChangeValue,\n              inputProps: {\n                readOnly: !editable\n              },\n              children: Religions.map((item, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item,\n                children: item\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 50\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"standard\",\n            sx: {\n              m: 1\n            },\n            style: {\n              width: \"30%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Tr\\xECnh \\u0111\\u1ED9 h\\u1ECDc v\\u1EA5n *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"educational\",\n              value: citizen.educational,\n              label: \"Tr\\xECnh \\u0111\\u1ED9 h\\u1ECDc v\\u1EA5n\",\n              onChange: handleChangeValue,\n              inputProps: {\n                readOnly: !editable\n              },\n              children: LearningLevels.map((item, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item.value,\n                children: item.name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 55\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            width: \"100%\",\n            marginTop: \"3vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"standard\",\n            sx: {\n              m: 1\n            },\n            style: {\n              width: \"47%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Ngh\\u1EC1 nghi\\u1EC7p *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"occupations\",\n              value: citizen.occupations,\n              label: \"Ngh\\u1EC1 nghi\\u1EC7p\",\n              onChange: handleChangeValue,\n              inputProps: {\n                readOnly: !editable\n              },\n              children: Occupations.map((item, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item,\n                children: item\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 52\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), currentUser.level === \"3\" ? /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"standard\",\n            sx: {\n              m: 1\n            },\n            style: {\n              width: \"47%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Th\\xF4n/B\\u1EA3n/T\\u1ED5 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"village_id\",\n              value: citizen.village_id,\n              label: \"Th\\xF4n/B\\u1EA3n/T\\u1ED5\",\n              onChange: handleChangeValue,\n              inputProps: {\n                readOnly: !editable,\n                disabled: currentUser.level === \"4\"\n              },\n              children: [updateAgencyList(), agencies.map((item, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item.id,\n                children: item.name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 43\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 11\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          error: er.home_town !== \"\",\n          helperText: er.home_town ? er.home_town : \"\",\n          style: {\n            marginTop: \"3vh\"\n          },\n          id: \"home_town\",\n          value: citizen.home_town,\n          onChange: handleChangeValue,\n          onBlur: validateHomeTownInput,\n          label: \"Qu\\xEA qu\\xE1n\",\n          inputProps: {\n            style: {\n              fontSize: \"17px\"\n            }\n          },\n          fullWidth: true,\n          variant: \"standard\",\n          InputProps: {\n            readOnly: !editable\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n          id: \"free-solo-demo1\",\n          sx: {\n            '& input': {\n              height: 22,\n              fontSize: \"17px\"\n            }\n          },\n          freeSolo: true,\n          options: currentUser.agency.stringName ? [currentUser.agency.stringName] : [],\n          inputValue: inputAddress_line1,\n          onInputChange: (event, newInputValue) => {\n            setInputAddress_line1(newInputValue);\n          },\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            error: er.address_line1 !== \"\",\n            helperText: er.address_line1 ? er.address_line1 : \"\",\n            id: \"address_line1\",\n            style: {\n              marginTop: \"3vh\"\n            },\n            fullWidth: true,\n            onBlur: validateAddress_line1Input,\n            variant: \"standard\",\n            ...params,\n            label: \"\\u0110\\u1ECBa ch\\u1EC9 t\\u1EA1m tr\\xFA\",\n            InputProps: {\n              readOnly: !editable\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n          id: \"free-solo-demo2\",\n          sx: {\n            '& input': {\n              height: 22,\n              fontSize: \"17px\"\n            }\n          },\n          freeSolo: true,\n          options: currentUser.agency.stringName ? [currentUser.agency.stringName] : [],\n          inputValue: inputAddress_line2,\n          onInputChange: (event, newInputValue) => {\n            setInputAddress_line2(newInputValue);\n            console.log(newInputValue);\n          },\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            error: er.address_line2 !== \"\",\n            helperText: er.address_line2 ? er.address_line2 : \"\",\n            id: \"address_line2\",\n            style: {\n              marginTop: \"3vh\"\n            },\n            fullWidth: true,\n            onBlur: validateAddress_line2Input,\n            variant: \"standard\",\n            ...params,\n            label: \"\\u0110\\u1ECBa ch\\u1EC9 t\\u1EA1m tr\\xFA\",\n            InputProps: {\n              readOnly: !editable\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 15\n        }, this), editable ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              marginTop: \"3vh\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                marginRight: \"10px\",\n                background: \"lightgrey\"\n              },\n              onClick: handleClickOpenDialog,\n              children: \"X\\xF3a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                background: \"#2E3192\",\n                color: \"white\"\n              },\n              onClick: handleUpdate,\n              children: \"C\\u1EADp nh\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 19\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), openDialog ? /*#__PURE__*/_jsxDEV(Dialog, {\n        open: true,\n        TransitionComponent: Transition,\n        keepMounted: true,\n        onClose: handleCloseDialog,\n        \"aria-describedby\": \"alert-delete-citizen\",\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"B\\u1EA1n mu\\u1ED1n x\\xF3a h\\u1ED3 s\\u01A1 n\\xE0y?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n            id: \"alert-delete-citizen\",\n            children: \"H\\xE0nh \\u0111\\u1ED9ng n\\xE0y kh\\xF4ng th\\u1EC3 ho\\xE0n t\\xE1c. Ti\\u1EBFp t\\u1EE5c?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCloseDialog,\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(),\n            children: \"X\\xF3a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CitizenProfile, \"hkHQnT3/2NkqAMqpVkT4BB5jhUk=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n\n_c = CitizenProfile;\nexport default CitizenProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"CitizenProfile\");","map":{"version":3,"sources":["/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/views/ListCitizens/CitizenProfile.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","TextField","createTheme","ThemeProvider","FormControl","FormControlLabel","Radio","RadioGroup","FormLabel","Select","InputLabel","Button","Ethnics","Religions","LearningLevels","Occupations","MenuItem","DatePicker","MuiPickersUtilsProvider","DateFnsUtils","addToast","getCitizenById","updateCitizen","deleteCitizen","updateCitizenInTable","deleteCitizenInTable","Loader","loadAgenciesAsync","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","Autocomplete","CitizenProfile","props","currentUser","state","user","editable","level","agencies","length","dispatch","subAgencies","citizenById","id","id_number","name","dob","gender","ethnic","religion","educational","declarer","occupations","village_id","home_town","address_line1","address_line2","error","Transition","forwardRef","ref","openDialog","setOpenDialog","handleClickOpenDialog","handleCloseDialog","citizen","setData","er","setError","inputAddress_line1","setInputAddress_line1","inputAddress_line2","setInputAddress_line2","res","status","data","alert","console","log","theme","palette","primary","main","styles","title","fontWeight","fontSize","paddingBottom","navigate","handleChangeError","value","handleChangeValue","e","isNaN","Date","parse","toLocaleDateString","target","handleUpdate","preventDefault","validateNameInput","validateHomeTownInput","validateAddress_line1Input","validateAddress_line2Input","temp","type","message","duration","response","handleDelete","containUpperCase","word","test","containLowerCase","containSpecialCharacter","x","allIsNumber","event","content","words","split","substr","validateId_numberInput","updateAgencyList","i","push","width","style","readOnly","display","justifyContent","marginTop","m","map","item","index","disabled","height","agency","stringName","newInputValue","params","marginRight","background","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router';\nimport TextField from \"@mui/material/TextField\";\nimport {createTheme} from '@mui/material/styles';\nimport { ThemeProvider } from '@mui/material/styles';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormLabel from '@mui/material/FormLabel';\nimport Select from '@mui/material/Select';\nimport InputLabel from '@mui/material/InputLabel';\nimport Button from \"@mui/material/Button\";\nimport { Ethnics } from \"../../constants/citizen/citizens\";\nimport { Religions } from \"../../constants/citizen/citizens\";\nimport { LearningLevels } from \"../../constants/citizen/citizens\";\nimport { Occupations } from \"../../constants/citizen/citizens\";\nimport MenuItem from '@mui/material/MenuItem';\nimport { DatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport {addToast} from \"../../utils\"\nimport { getCitizenById, updateCitizen, deleteCitizen } from \"../../api/apiCitizens\";\nimport { updateCitizenInTable, deleteCitizenInTable } from '../../redux/reducers/citizens/citizens.thunk'\nimport Loader from \"../../core/Loader\";\nimport { loadAgenciesAsync } from '../../redux/reducers/agencies/agencies.thunk';\nimport '../../style/citizen.css';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport Autocomplete from '@mui/material/Autocomplete';\n\nconst CitizenProfile = (props) => {\n  const {currentUser} = useSelector(state => state.user);\n  let editable = (currentUser && (currentUser.level === \"3\" || currentUser.level === \"4\"))  ? true:false;\n  const { agencies } = useSelector(state => {\n    return state.agencies\n  });\n  useEffect(() => {\n    if (agencies.length === 0) {\n      dispatch(loadAgenciesAsync());\n    }\n}, []);\n  const subAgencies = [];\n  const citizenById = {\n    id: \"\",\n    id_number: \"\",\n    name: \"\",\n    dob: \"\",\n    gender: \"\",\n    ethnic: \"\",\n    religion: \"\",\n    educational: \"\",\n    declarer: \"\",\n    occupations: \"\",\n    village_id: \"\",\n    home_town: \"\",\n    address_line1: \"\",\n    address_line2: \"\",\n  };\n  const error = {\n    id_number: \"\",\n    name: \"\",\n    home_town: \"\",\n    address_line1: \"\",\n    address_line2: \"\",\n  }\n  const {id} = props;\n  const dispatch = useDispatch();\n  const Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n  const [openDialog, setOpenDialog] = useState(false);\n  const handleClickOpenDialog = () => {\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n  const [citizen, setData] = useState(citizenById);\n  const [er, setError] = useState(error);\n  const [inputAddress_line1, setInputAddress_line1] = React.useState('');\n  const [inputAddress_line2, setInputAddress_line2] = React.useState('');\n\n  useEffect(() => {\n    (async () => {\n      try {\n        let res = await getCitizenById(id);\n        if (res.status === 200) {\n          setData(res.data);\n          setInputAddress_line1(res.data.address_line1);\n          setInputAddress_line2(res.data.address_line2);\n        } else if (res.status === 404) {\n          alert(\"Not found\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n\n  const theme = createTheme({\n      palette: {\n          primary: {\n              main: \"#2E3192\",\n          },\n      },\n  });\n\n  const styles = {\n    title: {\n      fontWeight: \"bold\",\n      fontSize: \"25px\",\n      paddingBottom: \"1vh\"\n    },\n  }\n\n  const navigate = useNavigate();\n\n  const handleChangeError = (name, value) => {\n    setError({\n      ...er,\n      [name]: value\n    });\n  }\n  \n  const handleChangeValue = (e) => {\n    if (!isNaN(Date.parse(e))) {\n      setData({\n        ...citizen,\n        dob: new Date(e).toLocaleDateString('en-CA')\n      });\n    } else if (e.target.name === \"educational\") {\n      setData({\n        ...citizen,\n        educational: e.target.value\n      });\n    } else if (e.target.value === \"male\" || e.target.value === \"female\") {\n      setData({\n        ...citizen,\n        gender: e.target.value\n      })\n    } else if (e.target.name === \"village_id\") {\n      setData({\n        ...citizen,\n        village_id: e.target.value\n      })\n    } else {\n      const name = (e.target.name || e.target.id);\n      setData({\n        ...citizen,\n        [name]: e.target.value,\n      });\n    }\n  };\n\n  const handleUpdate = (e) => {\n    e.preventDefault();\n    if (citizen.name === \"\") {\n      validateNameInput(e);\n    }\n    if (citizen.home_town === \"\") {\n      validateHomeTownInput(e);\n    }\n    if (citizen.address_line1 === \"\") {\n      validateAddress_line1Input(e);\n    }\n    if (citizen.address_line2 === \"\") {\n      validateAddress_line2Input(e);\n    }\n    if (citizen.name !== \"\" && citizen.home_town !== \"\" && citizen.address_line1 !== \"\" && citizen.address_line2 !== \"\") {\n      let temp = citizen;\n      temp.address_line1 = inputAddress_line1;\n      temp.address_line2 = inputAddress_line2;\n      (async () => {\n        try {\n          let res = await updateCitizen(temp);\n          if (res.status === 200) {\n            dispatch(updateCitizenInTable(temp));\n            addToast({type:'success', title:'Xong!', message:`Cập nhật thông tin công dân thành công.`, duration: 5000});\n            navigate('/list-citizens');\n          } else {\n            addToast({type:'error', title:'Hỏng!', message:`Đã xảy ra lỗi khi cập nhật thông tin công dân.`, duration: 5000})\n          }\n        } catch (e) {\n          if (e.response && e.response.data && e.response.data.id_number) {\n            if(e.response.data.id_number === \"citizen width this id_number has exist\") {\n              setError({\n                ...error,\n                id_number: \"Số CMND/CCCD đã tồn tại!\",\n              });\n            }\n          }\n        }\n      })();\n    }\n  }\n\n  const handleDelete = () => {\n    (async () => {\n      try {\n        let res = await deleteCitizen(citizen.id);\n        if (res.status === 200 || res.status === 204) {\n          dispatch(deleteCitizenInTable(citizen.id));\n          addToast({type:'success', title:'Xong!', message:`Xóa thông tin công dân thành công.`, duration: 5000});\n          navigate('/list-citizens');\n        } else {\n          addToast({type:'error', title:'Hỏng!', message:`Đã xảy ra lỗi khi cập nhật thông tin công dân.`, duration: 5000})\n        }\n      } catch (error) {}\n    })();\n  }\n    \n  const containUpperCase = (word) => {\n    if (/[ÁÀÃẢẠĂẮẰẲẴẶÂẤẦẨẪẬĐÉÈẺẼẸÊẾỀỂỄỆÍÌỈĨỊÔỐỒỔỖỘƠỚỜỞỠỢÓÒÕỎỌƯỨỪỬỮỰÚÙỦŨỤÝỲỶỸỴA-Z]/.test(word)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  const containLowerCase = (word) => {\n    if (/[aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]/.test(word)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  const containSpecialCharacter = (word) => {\n    // except for white-space\n    for (var x = 0; x < word.length; x++) {\n      if (!containLowerCase(word[x]) && !containUpperCase(word[x]) && !/\\d/.test(word[x]) && !/\\s/.test(word[x])) {\n        return true;\n      }\n    }\n    return false;\n  }\n  const allIsNumber = (word) => {\n    for (var x = 0; x < word.length; x++) {\n      if (!/\\d/.test(word[x])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  const validateNameInput = (event) => {\n    const content = event.target.value;\n    const words = content.split(/\\s/);\n    if (content === \"\") {\n      handleChangeError(\"name\", \"Không được để trống!\");\n    } else if (content[0] === \" \") {\n      handleChangeError(\"name\", \"Không được bắt đầu bằng khoảng trắng!\");\n    } else if (content[content.length - 1] === \" \") {\n      handleChangeError(\"name\", \"Không được kết thúc bằng khoảng trắng!\");\n    } else if (/\\d/.test(content)) {\n      handleChangeError(\"name\", \"Không được chứa chữ số!\");\n    } else if (containLowerCase(content[0]) || containLowerCase(words[words.length - 1][0])) {\n      handleChangeError(\"name\", \"Viết hoa ký tự đầu tiên của mỗi từ!\");\n    } else if ((content.length > 1 && containUpperCase(content.substr(1)) && words.length < 2) || (words[words.length - 1].length > 1 && containUpperCase(words[words.length - 1].substr(1)))) {\n      handleChangeError(\"name\", \"Chỉ viết hoa chữ cái đầu tiên của từ!\");\n    } else if (containSpecialCharacter(content)) {\n      handleChangeError(\"name\", \"Không được chứa ký tự đặc biệt!\");\n    } else if (content.split(/\\s/).length - 1 < 1) {\n      handleChangeError(\"name\", \"Ít nhất 2 từ đơn!\");\n    } else {\n      handleChangeError(\"name\", \"\");\n    }\n  }\n\n  const validateId_numberInput = (event) => {\n    const content = event.target.value;\n    if (allIsNumber(content) === false) {\n      handleChangeError(\"id_number\", \"Chỉ được chứa chữ số!\");\n    } else if (0 < content.length && content.length < 9) {\n      handleChangeError(\"id_number\", \"Số CMND/CCCD phải đủ 9/12 chữ số hoặc để trống khi chưa được cấp!\");\n    } else if (9 < content.length && content.length < 12) {\n      handleChangeError(\"id_number\", \"Số CCCD phải đủ 12 chữ số!\");\n    } else if (content.length > 12) {\n      handleChangeError(\"id_number\", \"Không hợp lệ!\");\n    } else {\n      handleChangeError(\"id_number\", \"\");\n    }\n  }\n\n  const validateHomeTownInput = (event) => {\n    const content = event.target.value;\n    if (content.length === 0) {\n      handleChangeError(\"home_town\", \"Không được để trống!\")\n    } else {\n      handleChangeError(\"home_town\", \"\")\n    }\n  };\n\n  const validateAddress_line1Input = (event) => {\n    const content = event.target.value;\n    if (content.length === 0) {\n      handleChangeError(\"address_line1\", \"Không được để trống!\")\n    } else {\n      handleChangeError(\"address_line1\", \"\")\n    }\n  };\n\n  const validateAddress_line2Input = (event) => {\n    const content = event.target.value;\n    if (content.length === 0) {\n      handleChangeError(\"address_line2\", \"Không được để trống!\")\n    } else {\n      handleChangeError(\"address_line2\", \"\")\n    }\n  };\n\n  const updateAgencyList = () => {\n    for(var i = 0; i < agencies.length; i++) {\n      subAgencies.push(agencies[i].name);\n    }\n  }\n\n  if (citizen.id === \"\") {\n    return <Loader/>\n  }\n  return (\n        <div id=\"profile\">\n        <ThemeProvider theme={theme}>\n          <p style={styles.title}>Thông tin chi tiết</p>\n          <form>\n              <TextField\n                error= {er.name !== \"\"}\n                helperText = {er.name !== \"\"? er.name:\"\"}\n                value={citizen.name}\n                id=\"name\" \n                margin=\"dense\"\n                label=\"Họ và tên\"\n                variant=\"standard\"\n                onChange={handleChangeValue}\n                onBlur={validateNameInput}\n                style={{width: \"100%\"}}\n                inputProps={{\n                  style: {\n                    fontSize: \"17px\",\n                  }\n                }}\n                InputProps={{\n                  readOnly: !editable,\n                }}\n              />\n              <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\", marginTop: \"1.5vh\"}}>\n              <FormControl style={{width: \"30%\"}} component=\"fieldset\">\n                <FormLabel component=\"legend\" style={{fontSize: \"13px\"}}>Giới tính *</FormLabel>\n                <RadioGroup row aria-label=\"gender\" id=\"gender\" value={citizen.gender} onChange={handleChangeValue}>\n                  <FormControlLabel value=\"male\" control={<Radio />} label=\"Nam\" disabled={!editable} />\n                  <FormControlLabel value=\"female\" control={<Radio />} label=\"Nữ\" disabled={!editable} />\n                </RadioGroup>\n              </FormControl>\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n              <DatePicker\n                id=\"dob\" \n                style={{width: \"30%\"}}\n                disableFuture\n                value={citizen.dob}\n                autoOk\n                openTo=\"year\"\n                format=\"dd/MM/yyyy\"\n                label=\"Ngày sinh\"\n                views={[\"year\", \"month\", \"date\"]}\n                onChange={handleChangeValue}\n                readOnly={!editable}\n              />\n              </MuiPickersUtilsProvider>\n              <TextField\n                error= {er.id_number !== \"\"}\n                helperText = {er.id_number ? er.id_number:\"\"}\n                value={citizen.id_number}\n                style={{width: \"30%\"}}\n                id=\"id_number\" \n                label=\"Số CCCD/CMND\"\n                variant=\"standard\"\n                onChange={handleChangeValue}\n                onBlur={validateId_numberInput}\n                InputProps={{\n                  readOnly: !editable,\n                }}\n              />\n              </div>\n              <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\", marginTop: \"1.5vh\"}}>\n              <FormControl variant=\"standard\" sx={{ m: 1 }} style={{width: \"30%\"}}>\n                <InputLabel >Dân tộc *</InputLabel>\n                <Select\n                  name=\"ethnic\"\n                  value={citizen.ethnic}\n                  label=\"Dân tộc\"\n                  onChange={handleChangeValue}\n                  inputProps={{ readOnly: !editable }}\n                >\n                {\n                  Ethnics.map((item, index) => <MenuItem key={index} value={item}>{item}</MenuItem>)\n                }\n                </Select>\n              </FormControl>\n              <FormControl variant=\"standard\" sx={{ m: 1}} style={{width: \"30%\"}}>\n                <InputLabel >Tôn giáo *</InputLabel>\n                <Select\n                  name=\"religion\"\n                  value={citizen.religion === \"\"?\"Không\":citizen.religion}\n                  label=\"Tôn giáo\"\n                  onChange={handleChangeValue}\n                  inputProps={{ readOnly: !editable }}\n                >\n                {\n                  Religions.map((item, index) => <MenuItem key={index} value={item}>{item}</MenuItem>)\n                }\n                </Select>\n              </FormControl>\n              <FormControl variant=\"standard\" sx={{ m: 1 }} style={{width: \"30%\"}}>\n                <InputLabel >Trình độ học vấn *</InputLabel>\n                <Select\n                  name=\"educational\"\n                  value={citizen.educational}\n                  label=\"Trình độ học vấn\"\n                  onChange={handleChangeValue}\n                  inputProps={{ readOnly: !editable }}\n                >\n                {\n                  LearningLevels.map((item, index) => <MenuItem key={index} value={item.value}>{item.name}</MenuItem>)\n                }\n                </Select>\n              </FormControl>\n              </div>\n              <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\", marginTop: \"3vh\"}}>\n              <FormControl variant=\"standard\" sx={{ m: 1 }} style={{width: \"47%\"}}>\n                <InputLabel >Nghề nghiệp *</InputLabel>\n                <Select\n                  name=\"occupations\"\n                  value={citizen.occupations}\n                  label=\"Nghề nghiệp\"\n                  onChange={handleChangeValue}\n                  inputProps={{ readOnly: !editable }}\n                >\n                {\n                  Occupations.map((item, index) => <MenuItem key={index} value={item}>{item}</MenuItem>)\n                }\n                </Select>\n              </FormControl>\n              {currentUser.level === \"3\"? (\n          <FormControl variant=\"standard\" sx={{ m: 1 }} style={{width: \"47%\"}}>\n          <InputLabel >Thôn/Bản/Tổ *</InputLabel>\n          <Select\n            name=\"village_id\"\n            value={citizen.village_id}\n            label=\"Thôn/Bản/Tổ\"\n            onChange={handleChangeValue}\n            inputProps={{ \n              readOnly: !editable,\n              disabled: currentUser.level === \"4\"\n            }}\n          >\n            {updateAgencyList()}\n          {\n            agencies.map((item, index) => <MenuItem key={index} value={item.id}>{item.name}</MenuItem>)\n          }\n          </Select>\n        </FormControl>\n        ):null\n        }\n              </div>\n              <TextField\n                error= {er.home_town !== \"\"}\n                helperText = {er.home_town ? er.home_town:\"\"}\n                style={{ marginTop: \"3vh\" }}\n                id=\"home_town\"\n                value={citizen.home_town}\n                onChange={handleChangeValue}\n                onBlur={validateHomeTownInput}\n                label=\"Quê quán\"\n                inputProps={{\n                  style: {\n                    fontSize: \"17px\",\n                  }\n                }}\n                fullWidth\n                variant=\"standard\"\n                InputProps={{\n                  readOnly: !editable,\n                }}\n              />\n              <Autocomplete\n                id=\"free-solo-demo1\"\n                sx={{\n                  '& input': {\n                    height: 22,\n                    fontSize: \"17px\",\n                  },\n                }}\n                freeSolo\n                options={currentUser.agency.stringName? [currentUser.agency.stringName]:[]}\n                inputValue={inputAddress_line1}\n                onInputChange={(event, newInputValue) => {\n                  setInputAddress_line1(newInputValue);\n                }}\n                renderInput={(params) => \n                <TextField \n                  error= {er.address_line1 !== \"\"}\n                  helperText = {er.address_line1 ? er.address_line1:\"\"}\n                  id=\"address_line1\"\n                  style={{ marginTop: \"3vh\" }} \n                  fullWidth\n                  onBlur={validateAddress_line1Input}\n                  variant=\"standard\" {...params} \n                  label=\"Địa chỉ tạm trú\"\n                  InputProps={{\n                    readOnly: !editable,\n                  }}\n                  required \n                  />}\n              />\n              <Autocomplete\n                id=\"free-solo-demo2\"\n                sx={{\n                  '& input': {\n                    height: 22,\n                    fontSize: \"17px\",\n                  },\n                }}\n                freeSolo\n                options={currentUser.agency.stringName? [currentUser.agency.stringName]:[]}\n                inputValue={inputAddress_line2}\n                onInputChange={(event, newInputValue) => {\n                  setInputAddress_line2(newInputValue);\n                  console.log(newInputValue);\n                }}\n                renderInput={(params) => \n                <TextField \n                  error= {er.address_line2 !== \"\"}\n                  helperText = {er.address_line2 ? er.address_line2:\"\"}\n                  id=\"address_line2\"\n                  style={{ marginTop: \"3vh\" }} \n                  fullWidth\n                  onBlur={validateAddress_line2Input}\n                  variant=\"standard\" {...params} \n                  label=\"Địa chỉ tạm trú\"\n                  InputProps={{\n                    readOnly: !editable,\n                  }}\n                  required \n                  />}\n              />\n              {/* <TextField\n                error= {er.address_line1 !== \"\"}\n                helperText = {er.address_line1 ? er.address_line1:\"\"}\n                style={{ marginTop: \"3vh\" }}\n                value={citizen.address_line1}\n                id=\"address_line1\"\n                label=\"Địa chỉ thường trú\"\n                fullWidth\n                variant=\"standard\"\n                onChange={handleChangeValue}\n                onBlur={validateAddress_line1Input}\n                inputProps={{\n                  style: {\n                    fontSize: \"18px\",\n                  }\n                }}\n                InputProps={{\n                  readOnly: !editable,\n                }}\n              />\n              <TextField\n                error= {er.address_line2 !== \"\"}\n                helperText = {er.address_line2 ? er.address_line2:\"\"}\n                style={{ marginTop: \"3vh\" }}\n                id=\"address_line2\"\n                value={citizen.address_line2}\n                label=\"Địa chỉ tạm trú\"\n                fullWidth\n                variant=\"standard\"\n                onChange={handleChangeValue}\n                onBlur={validateAddress_line2Input}\n                inputProps={{\n                  style: {\n                    fontSize: \"18px\",\n                  }\n                }}\n                InputProps={{\n                  readOnly: !editable,\n                }}\n              /> */}\n              {\n                editable ? (\n                  <div>\n                  <div style={{display: \"flex\", justifyContent: \"flex-end\", marginTop: \"3vh\"}}>\n                    <Button style={{marginRight: \"10px\", background: \"lightgrey\"}} onClick={handleClickOpenDialog}>Xóa</Button>\n                    <Button style={{background: \"#2E3192\", color: \"white\"}} onClick={handleUpdate}>Cập nhật</Button>\n                  </div>\n                  </div>\n                ) : null\n              }\n          </form>\n          {\n            openDialog? (\n          <Dialog\n        open={true}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleCloseDialog}\n        aria-describedby=\"alert-delete-citizen\"\n      >\n        <DialogTitle>Bạn muốn xóa hồ sơ này?</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-delete-citizen\">\n            Hành động này không thể hoàn tác. Tiếp tục?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog}>Hủy</Button>\n          <Button onClick={() => handleDelete()}>Xóa</Button>\n        </DialogActions>\n      </Dialog>\n            ):null\n      }\n        </ThemeProvider>\n    </div>\n    );\n}\n\nexport default CitizenProfile;"]},"metadata":{},"sourceType":"module"}