{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/components/Table/TableExtra.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useMemo } from 'react';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TablePagination from '@mui/material/TablePagination';\nimport TableRow from '@mui/material/TableRow';\nimport { useSelector } from 'react-redux';\nimport Filter from '../../components/Filter';\nimport SearchBar from '../../components/SearchBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst filterData = (data, search) => {\n  if (search.query === \"\" || !search.searchBy) {\n    return data;\n  } else {\n    console.log(search);\n    return data.filter(item => item[search.searchBy] && item[search.searchBy].toString().toLowerCase().includes(search.query.toLowerCase()));\n  }\n};\n\nexport default function TableExtra(props) {\n  _s();\n\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const {\n    data,\n    renderData,\n    columns,\n    searchBy,\n    name,\n    title,\n    searchEngine,\n    showFilterButton\n  } = props;\n  const user_level = useSelector(state => state.user.currentUser.level);\n  const styles = {\n    searchEngine: {\n      display: searchEngine ? \"flex\" : \"none\",\n      alignItems: \"center\",\n      borderBottom: \"1px solid var(--border-color)\",\n      padding: \"0.5rem\" // margin: \"0.5rem\"\n\n    },\n    searchBarWrapper: {\n      flexGrow: 1\n    },\n    title: {\n      padding: \"1rem\",\n      borderBottom: \"1px solid var(--border-color)\"\n    }\n  };\n  const [search, setSearch] = useState({\n    query: \"\",\n    searchBy: searchBy ? searchBy[0].value : null\n  });\n  const dataShow = useMemo(() => {\n    return filterData(data, search);\n  }, [data, search]);\n\n  const handleSearch = event => {\n    console.log(\"ðŸš€ ~ file: TableExtra.js ~ line 39 ~ handleSearch ~ event\", event.target.value, event.target.name);\n    setSearch({ ...search,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      width: '100%',\n      overflow: 'hidden'\n    },\n    children: [title ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.title,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.searchEngine,\n      children: [showFilterButton && user_level < \"4\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Filter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 54\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.searchBarWrapper,\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {\n          name: name,\n          input: search,\n          handleChange: handleSearch,\n          searchBy: searchBy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      sx: {\n        maxHeight: \"cacl(100vh - 125px)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        stickyHeader: true,\n        \"aria-label\": \"sticky table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: columns.map((column, index) => /*#__PURE__*/_jsxDEV(TableCell, {\n              align: column.align,\n              style: {\n                minWidth: column.minWidth\n              },\n              children: column.label\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: dataShow.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => renderData(row, index))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n      rowsPerPageOptions: [10, 25, 100],\n      component: \"div\",\n      count: data.length,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      onPageChange: handleChangePage,\n      onRowsPerPageChange: handleChangeRowsPerPage,\n      labelRowsPerPage: \"S\\u1ED1  h\\xE0ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TableExtra, \"feNhWfgcR2i58vMsC9IgnhrxGxY=\", false, function () {\n  return [useSelector];\n});\n\n_c = TableExtra;\nTableExtra.defaultProps = {\n  data: [],\n  renderData: (item, index) => index,\n  columns: [],\n  name: \"TableExtra-\"\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"TableExtra\");","map":{"version":3,"sources":["/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/components/Table/TableExtra.js"],"names":["useState","useMemo","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","useSelector","Filter","SearchBar","filterData","data","search","query","searchBy","console","log","filter","item","toString","toLowerCase","includes","TableExtra","props","page","setPage","rowsPerPage","setRowsPerPage","renderData","columns","name","title","searchEngine","showFilterButton","user_level","state","user","currentUser","level","styles","display","alignItems","borderBottom","padding","searchBarWrapper","flexGrow","setSearch","value","dataShow","handleSearch","event","target","handleChangePage","newPage","handleChangeRowsPerPage","width","overflow","maxHeight","map","column","index","align","minWidth","label","slice","row","length","defaultProps"],"mappings":"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","sourcesContent":["import {useState, useMemo} from 'react';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TablePagination from '@mui/material/TablePagination';\nimport TableRow from '@mui/material/TableRow';\nimport { useSelector } from 'react-redux';\n\nimport Filter from '../../components/Filter';\nimport SearchBar from '../../components/SearchBar';\n\nconst filterData = (data, search) => {\n  if(search.query === \"\" || !search.searchBy) {\n    return data\n  } else {\n    console.log(search)\n    return data.filter(item => item[search.searchBy] && item[search.searchBy].toString().toLowerCase().includes(search.query.toLowerCase()))\n  }\n}\n\nexport default function TableExtra(props) {\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const {data, renderData, columns, searchBy, name, title, searchEngine, showFilterButton} = props;\n  const user_level = useSelector(state => state.user.currentUser.level);\n  \n  const styles = {\n    searchEngine: {\n        display: searchEngine? \"flex\":\"none\",\n        alignItems: \"center\",\n        borderBottom: \"1px solid var(--border-color)\",\n        padding: \"0.5rem\"\n        // margin: \"0.5rem\"\n    }, \n    searchBarWrapper: {\n        flexGrow: 1\n    },\n    title: {\n      padding: \"1rem\",\n      borderBottom: \"1px solid var(--border-color)\"\n    }\n  }\n  const [search, setSearch] = useState({\n    query: \"\",\n    searchBy: searchBy?  searchBy[0].value: null     \n  })\n\n  const dataShow = useMemo(() => {\n    return filterData(data, search)\n  }, [data, search])\n  \n  const handleSearch = (event) => {\n    console.log(\"ðŸš€ ~ file: TableExtra.js ~ line 39 ~ handleSearch ~ event\", event.target.value,  event.target.name)\n    setSearch({\n      ...search,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n \n  return (\n    <Paper sx={{ width: '100%', overflow: 'hidden' }}>\n        {title? (\n          <div style={styles.title}>\n            {title}\n          </div>\n        ):null\n          \n\n        }\n        <div style={styles.searchEngine}>\n            {showFilterButton && user_level < \"4\" && <div>\n                <Filter/>\n            </div>}\n            <div style={styles.searchBarWrapper}>\n                <SearchBar name={name} input ={search} handleChange={handleSearch} searchBy={searchBy}/>\n            </div>\n        </div>\n      <TableContainer sx={{ maxHeight: \"cacl(100vh - 125px)\" }}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column, index) => (\n                <TableCell\n                  key={index}\n                  align={column.align}\n                  style={{ minWidth: column.minWidth }}\n                >\n                  {column.label}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {dataShow\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((row, index) => renderData(row, index))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[10, 25, 100]}\n        component=\"div\"\n        count={data.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n        labelRowsPerPage=\"Sá»‘  hÃ ng\"\n      />\n    </Paper>\n  );\n}\nTableExtra.defaultProps = {\n  data: [],\n  renderData: (item, index) => index,\n  columns: [],\n  name: \"TableExtra-\"\n}"]},"metadata":{},"sourceType":"module"}