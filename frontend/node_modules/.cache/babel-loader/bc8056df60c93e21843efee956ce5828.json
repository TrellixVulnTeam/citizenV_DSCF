{"ast":null,"code":"import apiClient from \"../axios/api\";\nimport apiAuthedClient from \"../axios/apiAuthed\";\nimport axiosClient from \"../axios/myapi\";\nexport const apiLoginUser = ({\n  username,\n  password\n}) => {\n  return apiClient().post(\"/api/user/login/\", {\n    username,\n    password\n  });\n};\nexport const apiPersistUser = () => {\n  return apiAuthedClient().get(\"/api/user/my\");\n};\nexport const isAuthenticated = () => {\n  if (typeof window === \"undefined\") {\n    return false;\n  } // try{\n  //     const user = await apiPersistUser();\n  //     console.log(user);\n  //     return true;\n  // }\n  // catch(error){\n  //     console.log(error)\n  //     return false;\n  // }\n\n\n  if (localStorage.getItem(\"token\")) {\n    return localStorage.getItem(\"token\");\n  } else {\n    return false;\n  }\n};\nexport const myUser = () => {\n  return axiosClient.get(\"user/my/\");\n};\nexport const loginApi = data => {\n  return axiosClient.post(\"user/login/\", data);\n};","map":{"version":3,"sources":["/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/api/apiUser.js"],"names":["apiClient","apiAuthedClient","axiosClient","apiLoginUser","username","password","post","apiPersistUser","get","isAuthenticated","window","localStorage","getItem","myUser","loginApi","data"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,cAAtB;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAD,KAA0B;AAClD,SAAOL,SAAS,GAAGM,IAAZ,CAAiB,kBAAjB,EAAqC;AAACF,IAAAA,QAAD;AAAWC,IAAAA;AAAX,GAArC,CAAP;AACH,CAFM;AAIP,OAAO,MAAME,cAAc,GAAG,MAAM;AAChC,SAAON,eAAe,GAAGO,GAAlB,CAAsB,cAAtB,CAAP;AACH,CAFM;AAGP,OAAO,MAAMC,eAAe,GAAG,MAAM;AAEjC,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAkC;AAC9B,WAAO,KAAP;AACH,GAJgC,CAKjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAiC;AAC7B,WAAOD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;AACH,GAFD,MAGI;AACA,WAAO,KAAP;AACH;AACJ,CApBM;AAsBP,OAAO,MAAMC,MAAM,GAAG,MAAM;AACxB,SAAOX,WAAW,CAACM,GAAZ,CAAgB,UAAhB,CAAP;AACH,CAFM;AAIP,OAAO,MAAMM,QAAQ,GAAIC,IAAD,IAAU;AAC9B,SAAOb,WAAW,CAACI,IAAZ,CAAiB,aAAjB,EAAgCS,IAAhC,CAAP;AACH,CAFM","sourcesContent":["import apiClient from \"../axios/api\";\nimport apiAuthedClient from \"../axios/apiAuthed\";\nimport axiosClient from \"../axios/myapi\"\n\nexport const apiLoginUser = ({username, password}) => {\n    return apiClient().post(\"/api/user/login/\", {username, password})\n}\n\nexport const apiPersistUser = () => {\n    return apiAuthedClient().get(\"/api/user/my\");\n}\nexport const isAuthenticated = () => {\n\n    if (typeof window === \"undefined\"){\n        return false;\n    }\n    // try{\n    //     const user = await apiPersistUser();\n    //     console.log(user);\n    //     return true;\n    // }\n    // catch(error){\n    //     console.log(error)\n    //     return false;\n    // }\n    if(localStorage.getItem(\"token\")){\n        return localStorage.getItem(\"token\");\n    }\n    else{\n        return false;\n    }\n}\n\nexport const myUser = () => {\n    return axiosClient.get(\"user/my/\")\n}\n\nexport const loginApi = (data) => {\n    return axiosClient.post(\"user/login/\", data)\n}\n"]},"metadata":{},"sourceType":"module"}