{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenhuuan/Documents/GitHub/citizenV/frontend/src/views/agency/AgencySetting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { getAgency, agencyRename, changePassword, toggleDeclarePermission, scheduleDeclarePermission, deleteAgencyApi } from \"../../api/apiAgencies\";\nimport Loader from \"../../core/Loader\";\nimport { TextField, Button, Switch, InputLabel, CircularProgress } from \"@mui/material\";\nimport DateTimePicker from \"@mui/lab/DateTimePicker\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport RenameIcon from \"@mui/icons-material/DriveFileRenameOutline\";\nimport PasswordIcon from \"@mui/icons-material/Password\";\nimport ScheduleIcon from \"@mui/icons-material/Schedule\";\nimport { Box } from \"@mui/system\";\nimport { updateAgency, deleteAgency } from '../../redux/reducers/agencies/agencies.thunk';\nimport { useDispatch } from 'react-redux';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport { useNavigate } from \"react-router\";\nimport { addToast } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  showOut: {\n    height: \"auto\",\n    transition: \"all 0.5s ease\"\n  },\n  hidden: {\n    height: \"0\",\n    transition: \"all 0.5s ease\",\n    overflow: \"hidden\"\n  },\n  header: {\n    marginBottom: \"2rem\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  }\n};\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Transition;\nconst init = {\n  id: \"\",\n  name: \"\",\n  complated_declared: \"\",\n  staff: {\n    username: \"\",\n    password: \"\",\n    operate_from: null,\n    operate_to: null\n  },\n  error: {}\n};\nlet pre = {};\n\nconst AddAgency = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState(init);\n  const [loading, setLoading] = useState({\n    rename: false,\n    changePass: false,\n    schedule: false,\n    istoggle: false\n  });\n  const [scheduleTime, setSchedule] = useState({\n    operate_from: null,\n    operate_to: null\n  });\n  const [openDialog, setOpenDialog] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleClickOpenDialog = () => {\n    setOpenDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n\n  const handleDelete = id => {\n    (async () => {\n      try {\n        let res = await deleteAgencyApi(data.id);\n\n        if (res.status === 204 || res.status === 200) {\n          dispatch(deleteAgency(id)); // handleCloseDialog(false)\n\n          addToast({\n            type: 'success',\n            title: 'Xong!',\n            message: `ƒê√£ x√≥a ${data.name}`,\n            duration: 5000\n          });\n          navigate('/management');\n        } else {\n          addToast({\n            type: 'error',\n            title: 'H·ªèng!',\n            message: `ƒê√£ x·∫£y ra l·ªói khi x√≥a ${data.name}`,\n            duration: 5000\n          });\n        }\n      } catch (error) {\n        alert(error);\n      }\n    })();\n  };\n\n  useEffect(() => {\n    (async () => {\n      try {\n        let res = await getAgency(id);\n\n        if (res.status === 200) {\n          let dt = res.data;\n          dt.staff.password = \"\";\n          pre = dt; // store pre value\n\n          setData(dt);\n        } else if (res.status === 404) {\n          alert(\"Not found\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n\n  const togglePermission = () => {\n    (async () => {\n      try {\n        setLoading({ ...loading,\n          istoggle: true\n        });\n        let res = await toggleDeclarePermission(data.staff.id);\n\n        if (res.status === 200) {\n          let staff = { ...data.staff,\n            declared_permission: !data.staff.declared_permission\n          };\n          addToast({\n            type: 'success',\n            title: 'Xong!',\n            message: `${staff.declared_permission ? 'ƒê√£ b·∫≠t quy·ªÅn khai b√°o' : 'ƒê√£ t·∫Øt quy·ªÅn khai b√°o.'}`,\n            duration: 5000\n          }); // console.log(staff)\n\n          let dt = { ...data,\n            staff\n          };\n          setData(dt);\n          dispatch(updateAgency(dt));\n          setLoading({ ...loading,\n            istoggle: false\n          });\n        }\n      } catch (error) {\n        addToast({\n          type: 'error',\n          title: 'L·ªói!',\n          message: `Kh√¥ng th·ªÉ th·ª±c hi·ªán.`,\n          duration: 5000\n        });\n      }\n    })();\n  };\n\n  const rename = () => {\n    (async () => {\n      try {\n        setLoading({ ...loading,\n          rename: true\n        });\n        let res = await agencyRename(data.id, {\n          name: data.name\n        });\n\n        if (res.status === 200) {\n          // alert('done')\n          let dt = res.data;\n          dt.staff.password = \"\";\n          pre = dt; // store pre value\n\n          setData(dt);\n          dispatch(updateAgency(data));\n          setLoading({ ...loading,\n            rename: false\n          });\n          addToast({\n            type: 'success',\n            title: 'Xong!',\n            message: `ƒê√£ ƒë·ªïi t√™n th√†nh c√¥ng.`,\n            duration: 5000\n          });\n        } else {\n          addToast({\n            type: 'error',\n            title: 'L·ªói!',\n            message: `ƒê√£ c√≥ l·ªói x·∫£y ra.`,\n            duration: 5000\n          });\n        }\n      } catch (error) {}\n    })();\n  };\n\n  const changePass = () => {\n    (async () => {\n      try {\n        setLoading({ ...loading,\n          changePass: true\n        });\n        let res = await changePassword(data.staff.id, {\n          password: data.staff.password\n        });\n        console.log(res);\n\n        if (res.status === 200) {\n          // alert('done')\n          let staff = { ...data.staff,\n            password: \"\"\n          };\n          setData({ ...data,\n            staff: staff\n          });\n          setLoading({ ...loading,\n            rename: false\n          });\n          addToast({\n            type: 'success',\n            title: 'Xong!',\n            message: `ƒê√£ ƒë·ªïi m·∫≠t kh·∫©u th√†nh c√¥ng.`,\n            duration: 5000\n          });\n        } else {\n          addToast({\n            type: 'error',\n            title: 'H·ªèng!',\n            message: `ƒê√£ x·∫£y ra l·ªói khi d·ªïi m·∫≠t kh·∫©u`,\n            duration: 5000\n          });\n        }\n      } catch (error) {}\n    })();\n  };\n\n  const handleChange = e => {\n    console.log(e.target);\n    console.log(\"üöÄ ~ file: AgencySetting.js ~ line 75 ~ handleChange ~ e\", e);\n    const {\n      id,\n      value\n    } = e.target;\n    console.log(\"üöÄ ~ file: AgencySetting.js ~ line 77 ~ handleChange ~ e\", e);\n\n    if (id === \"password\") {\n      setData({ ...data,\n        staff: { ...data.staff,\n          password: value\n        }\n      });\n    } else {\n      setData({ ...data,\n        [id]: value\n      });\n    }\n  };\n\n  const pickDateTime = (name, value) => {\n    setSchedule({ ...scheduleTime,\n      [name]: value\n    });\n  };\n\n  const schedule = () => {\n    (async () => {\n      try {\n        setLoading({ ...loading,\n          schedule: true\n        });\n        let data_schedule = {\n          operate_from: document.getElementById('operate_from').value,\n          operate_to: document.getElementById('operate_to').value,\n          user: data.id\n        };\n        let res = await scheduleDeclarePermission(data_schedule);\n\n        if (res.status === 200) {\n          let staff = { ...data.staff,\n            operate_from: res.data.operate_from,\n            operate_to: res.data.operate_to\n          };\n          addToast({\n            type: 'success',\n            title: 'Xong!',\n            message: `ƒê√£ l√™n l·ªãch th√†nh c√¥ng!`,\n            duration: 5000\n          });\n          setData({ ...data,\n            staff: staff\n          });\n          setSchedule({\n            operate_from: null,\n            operate_to: null\n          });\n        } else if (res.status === 400) {\n          console.log(res.data);\n        }\n\n        setLoading({ ...loading,\n          schedule: false\n        });\n      } catch (error) {\n        addToast({\n          type: 'error',\n          title: 'L·ªói!',\n          message: `Kh√¥ng th·ªÉ th·ª±c hi·ªán.`,\n          duration: 5000\n        });\n      }\n    })();\n  };\n\n  if (data.id === \"\") {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-limit\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Thi\\u1EBFt l\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-col-2 grid-col-sm-1\",\n      style: {},\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '0.5rem'\n            },\n            className: \"card__header\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-space-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Th\\xF4ng tin chung\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge ${data.completed_declared ? 'badge-success' : 'badge-pending '}`,\n                children: data.completed_declared ? 'ƒê√£ khai b√°o xong' : 'Ch∆∞a khai b√°o xong'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__body\",\n            style: {\n              marginBottom: 'auto'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid\",\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                label: \"M\\xE3 \\u0111\\u01A1n v\\u1ECB\",\n                value: data.id,\n                id: \"id\",\n                variant: \"outlined\",\n                onChange: handleChange,\n                disabled: true,\n                fullWidth: true,\n                size: \"small\",\n                helperText: \"M\\xE3 \\u0111\\u01A1n v\\u1ECB l\\xE0 c\\u1ED1 \\u0111\\u1ECBnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"T\\xEAn \\u0111\\u01A1n v\\u1ECB\",\n                value: data.name,\n                id: \"name\",\n                variant: \"outlined\",\n                onChange: handleChange,\n                fullWidth: true,\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__footer\",\n            children: /*#__PURE__*/_jsxDEV(LoadingButton, {\n              disabled: data.name.trim().length < 3 || data.name.trim() === pre.name,\n              variant: \"contained\",\n              onClick: rename,\n              endIcon: /*#__PURE__*/_jsxDEV(RenameIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 26\n              }, this),\n              loading: loading.rename,\n              loadingPosition: \"end\",\n              children: \"L\\u01B0u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__header\",\n            children: \"Th\\xF4ng tin v\\u1EC1 t\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid\",\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                label: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n                helperText: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp l\\xE0 c\\u1ED1 \\u0111\\u1ECBnh\",\n                value: data.id,\n                id: \"username\",\n                variant: \"outlined\",\n                onChange: handleChange,\n                disabled: true,\n                fullWidth: true,\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"M\\u1EADt kh\\u1EA9u\",\n                value: data.staff.password,\n                id: \"password\",\n                variant: \"outlined\",\n                onChange: handleChange,\n                fullWidth: true,\n                size: \"small\",\n                helperText: \"B\\u1EA1n c\\xF3 th\\u1EC3 \\u0111\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u nh\\u01B0ng kh\\xF4ng th\\u1EC3 xem m\\u1EADt kh\\u1EA9u hi\\u1EC7n t\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__footer\",\n            children: /*#__PURE__*/_jsxDEV(LoadingButton, {\n              disabled: data.staff.password.length < 3,\n              variant: \"contained\",\n              onClick: changePass,\n              loading: loading.changePass,\n              loadingPosition: \"end\",\n              endIcon: /*#__PURE__*/_jsxDEV(PasswordIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 26\n              }, this),\n              children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__header\",\n            children: \"Quy\\u1EC1n khai b\\xE1o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__body\",\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                onChange: togglePermission,\n                checked: data.staff.declared_permission,\n                disabled: loading.istoggle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this),\n              label: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [loading.istoggle ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 90\n                }, this) : null, \" \", /*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"Quy\\u1EC1n khai b\\xE1o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 126\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n              children: [\"M\\u1ED9t l\\u1ECBch tr\\xECnh\", \" \", new Date().getTime() < Date.parse(data.staff.operate_to) ? \"ƒëang di·ªÖn ra\" : \"ƒë√£ k·∫øt th√∫c\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid\",\n              style: {\n                marginTop: \"1rem\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Th\\u1EDDi gian b\\u1EAFt \\u0111\\u1EA7u\",\n                type: \"date-local\",\n                disabled: true,\n                size: \"small\",\n                value: data.staff.operate_from\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc\",\n                type: \"date-local\",\n                disabled: true,\n                size: \"small\",\n                value: data.staff.operate_to\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this), data.staff.declared_permission ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"L\\xEAn l\\u1ECBch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid\",\n                style: {\n                  marginTop: \"1rem\"\n                },\n                children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n                  dateAdapter: AdapterDateFns,\n                  children: [/*#__PURE__*/_jsxDEV(DateTimePicker, {\n                    renderInput: props => /*#__PURE__*/_jsxDEV(TextField, {\n                      readOnly: true,\n                      onChange: pickDateTime,\n                      id: \"operate_from\",\n                      size: \"small\",\n                      type: \"datetime-local\",\n                      ...props,\n                      helperText: \"Th\\u1EDDi gian b\\u1EAFt \\u0111\\u1EA7u ph\\u1EA3i nh\\u1ECF h\\u01A1n th\\u1EDDi gian k\\u1EBFt th\\xFAc\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 29\n                    }, this),\n                    minDate: new Date(),\n                    name: \"operate_from\",\n                    value: scheduleTime.operate_from,\n                    label: \"Th\\u1EDDi gian b\\u1EAFt \\u0111\\u1EA7u\",\n                    onChange: value => pickDateTime(\"operate_from\", value),\n                    inputFormat: \"yyyy-MM-dd'T'HH:mm:ss\",\n                    disabled: data.staff.declared_permission\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(DateTimePicker, {\n                    renderInput: props => /*#__PURE__*/_jsxDEV(TextField, {\n                      type: \"datetime-local\",\n                      id: \"operate_to\",\n                      size: \"small\",\n                      ...props,\n                      helperText: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc ph\\u1EA3i l\\xE0 m\\u1ED9t th\\u1EDDi \\u0111i\\u1EC3m trong t\\u01B0\\u01A1ng lai\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 29\n                    }, this),\n                    label: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc\",\n                    name: \"operate_to\",\n                    value: scheduleTime.operate_to,\n                    onChange: value => pickDateTime(\"operate_to\", value),\n                    minDate: scheduleTime.operate_from,\n                    inputFormat: \"yyyy-MM-dd'T'HH:mm:ss\",\n                    disabled: data.staff.declared_permission\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), !data.staff.declared_permission ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card__footer\",\n            children: /*#__PURE__*/_jsxDEV(LoadingButton, {\n              onClick: schedule,\n              disabled: !scheduleTime || scheduleTime.operate_from == null || scheduleTime.operate_to == null || scheduleTime.operate_to === pre.staff.operate_to || scheduleTime.operate_from === pre.staff.operate_from,\n              loading: loading.schedule,\n              loadingPosition: \"end\",\n              variant: \"contained\",\n              endIcon: /*#__PURE__*/_jsxDEV(ScheduleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 28\n              }, this),\n              children: \"L\\xEAn l\\u1ECBch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        onClick: handleClickOpenDialog,\n        children: \"X\\xF3a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: handleCloseDialog,\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"B\\u1EA1n mu\\u1ED1n x\\xF3a \\u0111\\u01A1n v\\u1ECB n\\xE0y?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-slide-description\",\n          children: \"C\\u1EA3 t\\xE0i kho\\u1EA3n k\\xE8m theo c\\xE1c \\u0111\\u01A1n v\\u1ECB, t\\xE0i kho\\u1EA3n c\\u1EA5p d\\u01B0\\u1EDBi v\\xE0 c\\u1EA3 c\\xE1c c\\xF4ng d\\xE2n thu\\u1ED9c \\u0111\\u01A1n v\\u1ECB n\\xE0y \\u0111\\u1EC1u b\\u1ECB x\\xF3a h\\u1EBFt.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenDialog(false),\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleDelete(data.id),\n          children: \"X\\xF3a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddAgency, \"sIl/qMMvNf8LOVIDFBe1K+7qgXU=\", false, function () {\n  return [useParams, useDispatch, useNavigate];\n});\n\n_c3 = AddAgency;\nexport default AddAgency;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"AddAgency\");","map":{"version":3,"sources":["/Users/nguyenhuuan/Documents/GitHub/citizenV/frontend/src/views/agency/AgencySetting.js"],"names":["React","useEffect","useState","useParams","getAgency","agencyRename","changePassword","toggleDeclarePermission","scheduleDeclarePermission","deleteAgencyApi","Loader","TextField","Button","Switch","InputLabel","CircularProgress","DateTimePicker","AdapterDateFns","LocalizationProvider","FormControlLabel","LoadingButton","RenameIcon","PasswordIcon","ScheduleIcon","Box","updateAgency","deleteAgency","useDispatch","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","useNavigate","addToast","styles","showOut","height","transition","hidden","overflow","header","marginBottom","display","alignItems","justifyContent","Transition","forwardRef","props","ref","init","id","name","complated_declared","staff","username","password","operate_from","operate_to","error","pre","AddAgency","data","setData","loading","setLoading","rename","changePass","schedule","istoggle","scheduleTime","setSchedule","openDialog","setOpenDialog","dispatch","navigate","handleClickOpenDialog","handleCloseDialog","handleDelete","res","status","type","title","message","duration","alert","dt","console","log","togglePermission","declared_permission","handleChange","e","target","value","pickDateTime","data_schedule","document","getElementById","user","flexDirection","padding","completed_declared","trim","length","Date","getTime","parse","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { getAgency, agencyRename, changePassword, toggleDeclarePermission, scheduleDeclarePermission, deleteAgencyApi} from \"../../api/apiAgencies\";\nimport Loader from \"../../core/Loader\";\nimport { TextField, Button, Switch, InputLabel, CircularProgress } from \"@mui/material\";\nimport DateTimePicker from \"@mui/lab/DateTimePicker\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\n\nimport RenameIcon from \"@mui/icons-material/DriveFileRenameOutline\";\nimport PasswordIcon from \"@mui/icons-material/Password\";\nimport ScheduleIcon from \"@mui/icons-material/Schedule\";\nimport { Box } from \"@mui/system\";\nimport {updateAgency, deleteAgency} from '../../redux/reducers/agencies/agencies.thunk'\nimport { useDispatch } from 'react-redux';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport { useNavigate } from \"react-router\";\nimport {addToast} from \"../../utils\"\nconst styles = {\n  showOut: {\n    height: \"auto\",\n    transition: \"all 0.5s ease\",\n  },\n  hidden: {\n    height: \"0\",\n    transition: \"all 0.5s ease\",\n    overflow: \"hidden\",\n  },\n  header: {\n    marginBottom: \"2rem\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n};\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst init = {\n  id: \"\",\n  name: \"\",\n  complated_declared: \"\",\n  staff: {\n    username: \"\",\n    password: \"\",\n    operate_from: null,\n    operate_to: null,\n  },\n  error: {},\n};\nlet pre = {};\nconst AddAgency = () => {\n  const { id } = useParams();\n  const [data, setData] = useState(init);\n  const [loading, setLoading] = useState({\n    rename: false,\n    changePass: false,\n    schedule: false,\n    istoggle: false\n  });\n  const [scheduleTime, setSchedule] = useState({\n      operate_from: null,\n      operate_to: null\n  });\n  const [openDialog, setOpenDialog] = useState(false);\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n\n  const handleClickOpenDialog = () => {\n    setOpenDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    \n    setOpenDialog(false);\n  };\n  \n\n  const handleDelete = (id) => {\n    (async () => {\n      try {\n        let res = await deleteAgencyApi(data.id)\n        if (res.status === 204 || res.status === 200) {\n          dispatch(deleteAgency(id))\n          // handleCloseDialog(false)\n          addToast({type:'success', title:'Xong!', message:`ƒê√£ x√≥a ${data.name}`, duration: 5000})\n          navigate('/management')\n        } else {\n          addToast({type:'error', title:'H·ªèng!', message:`ƒê√£ x·∫£y ra l·ªói khi x√≥a ${data.name}`, duration: 5000})\n        }\n\n      } catch (error) {\n        alert(error)\n      }\n    })()\n    \n  }\n\n  useEffect(() => {\n    (async () => {\n      try {\n        let res = await getAgency(id);\n        if (res.status === 200) {\n          let dt = res.data;\n          dt.staff.password = \"\";\n          pre = dt; // store pre value\n          setData(dt);\n        } else if (res.status === 404) {\n          alert(\"Not found\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [])\n\n  const togglePermission = () => {\n    (\n      async () => {\n        try {\n          setLoading({\n            ...loading,\n              istoggle: true,\n          })\n          let res = await toggleDeclarePermission(data.staff.id)\n          if (res.status === 200) {\n            let staff = {\n              ...data.staff,\n              declared_permission: !data.staff.declared_permission,\n            }\n            addToast({\n              type:'success', \n              title:'Xong!', \n              message:`${staff.declared_permission? 'ƒê√£ b·∫≠t quy·ªÅn khai b√°o':'ƒê√£ t·∫Øt quy·ªÅn khai b√°o.'}`, \n              duration: 5000})\n            // console.log(staff)\n            let dt = {\n              ...data,\n              staff\n            }\n            setData(dt)\n            \n            dispatch(updateAgency(dt))\n            \n            setLoading({\n              ...loading,\n                istoggle: false,\n            })\n\n          }\n        } catch (error) {\n          addToast({\n            type:'error', \n            title:'L·ªói!', \n            message:`Kh√¥ng th·ªÉ th·ª±c hi·ªán.`, \n            duration: 5000})\n        }\n      }\n    )()\n\n    \n    \n\n  };\n\n  const rename = () => {\n    (async () => {\n      try {\n        setLoading({\n          ...loading,\n          rename: true,\n        });\n        let res = await agencyRename(data.id, { name: data.name });\n\n        if (res.status === 200) {\n          // alert('done')\n          let dt = res.data;\n          dt.staff.password = \"\";\n          pre = dt; // store pre value\n          setData(dt);\n          dispatch(updateAgency(data))\n          setLoading({\n            ...loading,\n            rename: false,\n          });\n          addToast({type:'success', title:'Xong!', message:`ƒê√£ ƒë·ªïi t√™n th√†nh c√¥ng.`, duration: 5000})\n        } else {\n          addToast({type:'error', title:'L·ªói!', message:`ƒê√£ c√≥ l·ªói x·∫£y ra.`, duration: 5000})\n        }\n      } catch (error) {}\n    })();\n  };\n\n  const changePass = () => {\n    (async () => {\n      try {\n        setLoading({\n          ...loading,\n          changePass: true,\n        });\n        let res = await changePassword(data.staff.id, {\n          password: data.staff.password,\n        });\n        console.log(res);\n        if (res.status === 200) {\n          // alert('done')\n          let staff = { ...data.staff, password: \"\" };\n          setData({ ...data, staff: staff });\n          setLoading({\n            ...loading,\n            rename: false,\n          });\n          addToast({type:'success', title:'Xong!', message:`ƒê√£ ƒë·ªïi m·∫≠t kh·∫©u th√†nh c√¥ng.`, duration: 5000})\n        } else {\n          addToast({type:'error', title:'H·ªèng!', message:`ƒê√£ x·∫£y ra l·ªói khi d·ªïi m·∫≠t kh·∫©u`, duration: 5000})\n        }\n      } catch (error) {}\n    })();\n  };\n\n  \n\n  const handleChange = (e) => {\n    console.log(e.target);\n    console.log(\"üöÄ ~ file: AgencySetting.js ~ line 75 ~ handleChange ~ e\", e);\n    const { id, value } = e.target;\n    console.log(\"üöÄ ~ file: AgencySetting.js ~ line 77 ~ handleChange ~ e\", e);\n    if (id === \"password\") {\n      setData({\n        ...data,\n        staff: { ...data.staff, password: value },\n      });\n    } else {\n      setData({\n        ...data,\n        [id]: value,\n      });\n    }\n  };\n\n  const pickDateTime = (name, value) => {\n    setSchedule({\n        ...scheduleTime,\n        [name]: value\n    })\n  };\n  const schedule = () => {\n    \n    (async () => {\n      try {\n        setLoading({\n          ...loading, \n          schedule: true\n        })\n        let data_schedule = {\n          operate_from: document.getElementById('operate_from').value,\n          operate_to: document.getElementById('operate_to').value,\n          user: data.id\n        }\n        let res = await scheduleDeclarePermission(data_schedule)\n        if (res.status === 200) {\n          let staff = {...data.staff, \n                        operate_from: res.data.operate_from, \n                        operate_to: res.data.operate_to\n                      }\n          addToast({\n            type:'success', \n            title:'Xong!', \n            message:`ƒê√£ l√™n l·ªãch th√†nh c√¥ng!`, \n            duration: 5000\n          })           \n          setData({\n            ...data, \n            staff: staff\n          })\n          setSchedule({\n            operate_from: null,\n            operate_to: null\n          })\n        } else if (res.status === 400){\n          console.log(res.data)\n        }\n        setLoading({\n          ...loading,\n          schedule: false,\n        })   \n      } catch (error) {\n        addToast({\n          type:'error', \n          title:'L·ªói!', \n          message:`Kh√¥ng th·ªÉ th·ª±c hi·ªán.`, \n          duration: 5000\n        })\n      }\n    })()\n\n    \n  };\n  if (data.id === \"\") {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"page-limit\">\n      <div style={styles.header}>\n        <h2>Thi·∫øt l·∫≠p</h2>\n        <div></div>\n      </div>\n      <div className=\"grid grid-col-2 grid-col-sm-1\" style={{}}>\n        <div>\n          <div className=\"card\" style={{display: \"flex\", flexDirection: \"column\", height: '100%'}}>\n            <div style={{padding: '0.5rem'}}className=\"card__header\">\n              <div className='flex-space-between'>\n                <span>Th√¥ng tin chung</span>\n                <span className={`badge ${data.completed_declared? 'badge-success': 'badge-pending '}`}>\n                  {data.completed_declared? 'ƒê√£ khai b√°o xong': 'Ch∆∞a khai b√°o xong'}\n                </span>\n              </div>\n            </div>\n            <div className=\"card__body\" style={{marginBottom: 'auto'}}>\n              <div className=\"grid\">\n                <TextField\n                  label=\"M√£ ƒë∆°n v·ªã\"\n                  value={data.id}\n                  id=\"id\"\n                  variant=\"outlined\"\n                  onChange={handleChange}\n                  disabled\n                  fullWidth\n                  size=\"small\"\n                  helperText='M√£ ƒë∆°n v·ªã l√† c·ªë ƒë·ªãnh'\n                />\n                <TextField\n                  label=\"T√™n ƒë∆°n v·ªã\"\n                  value={data.name}\n                  id=\"name\"\n                  variant=\"outlined\"\n                  onChange={handleChange}\n                  fullWidth\n                  size=\"small\"\n                />\n              </div>\n            </div>\n            <div className=\"card__footer\">\n              <LoadingButton\n                disabled={\n                  data.name.trim().length < 3 || data.name.trim() === pre.name\n                }\n                variant=\"contained\"\n                onClick={rename}\n                endIcon={<RenameIcon />}\n                loading={loading.rename}\n                loadingPosition=\"end\"\n              >\n                L∆∞u\n              </LoadingButton>\n            </div>\n          </div>\n        </div>\n        <div>\n          <div className=\"card\" >\n            <div className=\"card__header\">Th√¥ng tin v·ªÅ t√†i kho·∫£n</div>\n            <div className=\"card__body\" >\n              <div className=\"grid\">\n                <TextField\n                  label=\"T√™n ƒëƒÉng nh·∫≠p\"\n                  helperText = 'T√™n ƒëƒÉng nh·∫≠p l√† c·ªë ƒë·ªãnh'\n                  value={data.id}\n                  id=\"username\"\n                  variant=\"outlined\"\n                  onChange={handleChange}\n                  disabled\n                  fullWidth\n                  size=\"small\"\n                />\n                <TextField\n                  label=\"M·∫≠t kh·∫©u\"\n                  value={data.staff.password}\n                  id=\"password\"\n                  variant=\"outlined\"\n                  onChange={handleChange}\n                  fullWidth\n                  size=\"small\"\n                  helperText='B·∫°n c√≥ th·ªÉ ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u nh∆∞ng kh√¥ng th·ªÉ xem m·∫≠t kh·∫©u hi·ªán t·∫°i'\n                />\n              </div>\n            </div>\n            <div className=\"card__footer\">\n              <LoadingButton\n                disabled={data.staff.password.length < 3}\n                variant=\"contained\"\n                onClick={changePass}\n                loading={loading.changePass}\n                loadingPosition=\"end\"\n                endIcon={<PasswordIcon />}\n              >\n                ƒê·ªïi m·∫≠t kh·∫©u\n              </LoadingButton>\n            </div>\n          </div>\n        </div>\n        <div className=\"\">\n          <div className=\"card\">\n            <div className=\"card__header\">Quy·ªÅn khai b√°o</div>\n            <div className=\"card__body\">\n              <FormControlLabel\n                control={\n                  <Switch\n                    onChange={togglePermission}\n                    checked={data.staff.declared_permission}\n                    disabled={loading.istoggle}\n                  />\n                }\n                label={<Box sx={{display:'flex', alignItems:'center'}}>{loading.istoggle?<CircularProgress size={16}/>:null} <InputLabel>Quy·ªÅn khai b√°o</InputLabel></Box>}              />\n              \n              <InputLabel>\n                M·ªôt l·ªãch tr√¨nh{\" \"}\n                {new Date().getTime() < Date.parse(data.staff.operate_to)\n                  ? \"ƒëang di·ªÖn ra\"\n                  : \"ƒë√£ k·∫øt th√∫c\"}\n              </InputLabel>\n              <div className=\"grid\" style={{ marginTop: \"1rem\" }}>\n                <TextField\n                  label=\"Th·ªùi gian b·∫Øt ƒë·∫ßu\"\n                  type=\"date-local\"\n                  disabled\n                  size=\"small\"\n                  value={data.staff.operate_from}\n                />\n                <TextField\n                  label=\"Th·ªùi gian k·∫øt th√∫c\"\n                  type=\"date-local\"\n                  disabled\n                  size=\"small\"\n                  value={data.staff.operate_to}\n                />\n              </div>\n              {data.staff.declared_permission? null:(\n                <div style={{marginTop:'1rem'}}>\n                    {/* {data.staff.operate_to} */}\n                    <InputLabel>L√™n l·ªãch</InputLabel>\n                    <div className=\"grid\" style={{ marginTop: \"1rem\" }}>\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\n                        <DateTimePicker\n                        renderInput={(props) => (\n                            <TextField\n                            readOnly\n                            onChange={pickDateTime}\n                            id=\"operate_from\"\n                            size=\"small\"\n                            type=\"datetime-local\"\n                            {...props}\n                            helperText=\"Th·ªùi gian b·∫Øt ƒë·∫ßu ph·∫£i nh·ªè h∆°n th·ªùi gian k·∫øt th√∫c\"\n                            />\n                        )}\n                        minDate={new Date()}\n                        name=\"operate_from\"\n                        value={scheduleTime.operate_from}\n                        label=\"Th·ªùi gian b·∫Øt ƒë·∫ßu\"\n                        onChange={(value) => pickDateTime(\"operate_from\", value)}\n                        inputFormat=\"yyyy-MM-dd'T'HH:mm:ss\"\n                        disabled={data.staff.declared_permission}\n                        />\n                        <DateTimePicker\n                        renderInput={(props) => (\n                            <TextField\n                            type=\"datetime-local\"\n                            id=\"operate_to\"\n                            size=\"small\"\n                            {...props}\n                            helperText=\"Th·ªùi gian k·∫øt th√∫c ph·∫£i l√† m·ªôt th·ªùi ƒëi·ªÉm trong t∆∞∆°ng lai\"\n                            />\n                        )}\n                        label=\"Th·ªùi gian k·∫øt th√∫c\"\n                        name=\"operate_to\"\n                        value={scheduleTime.operate_to}\n                        onChange={(value) => pickDateTime(\"operate_to\", value)}\n                        minDate={scheduleTime.operate_from}\n                        inputFormat=\"yyyy-MM-dd'T'HH:mm:ss\"\n                        disabled={data.staff.declared_permission}\n                        />\n                    </LocalizationProvider>\n                    </div>\n                </div>\n              )}\n              \n            </div>\n            {!data.staff.declared_permission ? (\n              <div className=\"card__footer\">\n                {/* <Button \n                                    disabled={data.staff.operate_to === pre.staff.operate_to || \n                                        data.staff.operate_from === pre.staff.operate_from} \n                                    variant='contained'>L√™n l·ªãch</Button> */}\n                <LoadingButton\n                  onClick={schedule}\n                  disabled={\n                    (!scheduleTime || scheduleTime.operate_from == null || scheduleTime.operate_to == null ) || (\n                        scheduleTime.operate_to === pre.staff.operate_to ||\n                        scheduleTime.operate_from === pre.staff.operate_from\n                    )\n                  }\n                  loading={loading.schedule}\n                  loadingPosition=\"end\"\n                  variant=\"contained\"\n                  endIcon={<ScheduleIcon />}\n                >\n                  L√™n l·ªãch\n                </LoadingButton>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n      <div className=\"detail-footer\">\n        <span></span>\n        <Button variant=\"contained\" color=\"error\" onClick={handleClickOpenDialog}>X√≥a</Button>\n      </div>\n      <Dialog\n        open={openDialog}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleCloseDialog}\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle>B·∫°n mu·ªën x√≥a ƒë∆°n v·ªã n√†y?</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            C·∫£ t√†i kho·∫£n k√®m theo c√°c ƒë∆°n v·ªã, t√†i kho·∫£n c·∫•p d∆∞·ªõi v√† c·∫£ c√°c c√¥ng d√¢n thu·ªôc ƒë∆°n v·ªã n√†y ƒë·ªÅu b·ªã x√≥a h·∫øt.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenDialog(false)}>H·ªßy</Button>\n          <Button onClick={() => handleDelete(data.id)}>X√≥a</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\nexport default AddAgency;\n"]},"metadata":{},"sourceType":"module"}