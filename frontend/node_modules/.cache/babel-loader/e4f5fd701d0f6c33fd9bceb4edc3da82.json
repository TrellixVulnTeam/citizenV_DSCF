{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/views/Analysis/BarChart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Button, TextField } from \"@mui/material\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\"; // const data = [\n//   {\n//     name: \"Từ 0 đến 5 tuổi\",\n//     male: 4000,\n//     female: 2400,\n//   },\n//   {\n//     name: \"Từ 0 đến 5 tuổi\",\n//     male: 3000,\n//     female: 1398,\n//   },\n//   {\n//     name: \"Từ 0 đến 5 tuổi\",\n//     male: 2000,\n//     female: 4000,\n//   },\n// ];\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst extractCitizensByAge = (citizens, from, to, year) => {\n  let a = citizens.filter(element => {\n    return year - element.dob.slice(0, 4) >= from && year - element.dob.slice(0, 4) <= to;\n  });\n  let countBoys = 0;\n  let countGirls = 0;\n  a.forEach(element => {\n    element.gender === \"male\" ? countBoys++ : countGirls++;\n  });\n  return {\n    name: `Từ ${from} đến ${to} tuổi`,\n    male: countBoys,\n    female: countGirls\n  };\n};\n\nconst caculateData = (citizens, year) => {\n  let result = [];\n\n  for (let i = 0; i < 15; i = i + 5) {\n    let element = extractCitizensByAge(citizens, i, i + 4, year);\n    result.push(element);\n  }\n\n  console.log(result);\n  return result;\n};\n\nconst BarChartComponent = props => {\n  _s();\n\n  const styles = {\n    root: {},\n    text: {\n      textAlign: \"center\"\n    }\n  };\n  const {\n    citizens\n  } = useSelector(state => state.citizens);\n  const [data, setData] = useState([]);\n  const [year, setYear] = useState(\"\");\n\n  const handleChange = e => {\n    setYear(e.target.value);\n  };\n\n  const handleClick = () => {\n    setData(caculateData(citizens, year));\n  };\n\n  useEffect(() => {\n    setData(caculateData(citizens, props.year));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(BarChart, {\n      width: 500,\n      height: 300,\n      data: data,\n      margin: {\n        top: 5,\n        right: 30,\n        left: 20,\n        bottom: 5\n      },\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n        domain: [0, 10]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"male\",\n        fill: \"#8884d8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"female\",\n        fill: \"#82ca9d\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), props.year ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.text,\n      children: [\"N\\u0103m \", props.year]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.text,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleChange,\n        id: \"outlined-basic\",\n        label: \"N\\u0103m\",\n        placeholder: \"Nh\\u1EADp n\\u0103m mu\\u1ED1n th\\u1ED1ng k\\xEA\",\n        variant: \"outlined\",\n        value: year\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClick,\n        variant: \"contained\",\n        children: \"Tra c\\u1EE9u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BarChartComponent, \"qqRD5te+kF+OCo/h07QzokYL0Ug=\", false, function () {\n  return [useSelector];\n});\n\n_c = BarChartComponent;\nexport default BarChartComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarChartComponent\");","map":{"version":3,"sources":["/Users/nguyenhuuan/Documents/GitHub/final-web-assignment/src/views/Analysis/BarChart.js"],"names":["React","useEffect","useState","useSelector","Button","TextField","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","extractCitizensByAge","citizens","from","to","year","a","filter","element","dob","slice","countBoys","countGirls","forEach","gender","name","male","female","caculateData","result","i","push","console","log","BarChartComponent","props","styles","root","text","textAlign","state","data","setData","setYear","handleChange","e","target","value","handleClick","top","right","left","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Button, TextField } from \"@mui/material\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer\n} from \"recharts\";\n\n// const data = [\n//   {\n//     name: \"Từ 0 đến 5 tuổi\",\n//     male: 4000,\n//     female: 2400,\n//   },\n//   {\n//     name: \"Từ 0 đến 5 tuổi\",\n//     male: 3000,\n//     female: 1398,\n//   },\n//   {\n//     name: \"Từ 0 đến 5 tuổi\",\n//     male: 2000,\n//     female: 4000,\n//   },\n// ];\n\nconst extractCitizensByAge = (citizens, from, to, year) => {\n    let a =  citizens.filter(element => {\n        return year - element.dob.slice(0,4) >= from && year - element.dob.slice(0, 4) <= to;  \n    });\n    let countBoys = 0;\n    let countGirls = 0;\n    a.forEach(element => {\n        element.gender === \"male\" ? countBoys++ : countGirls++; \n    })\n    return {\n        name: `Từ ${from} đến ${to} tuổi`,\n        male: countBoys,\n        female: countGirls\n    }\n}\nconst caculateData = (citizens, year) => {\n    let result = [];\n    for (let i = 0 ; i<15 ; i=i + 5){\n        let element = extractCitizensByAge(citizens, i, i+4, year);\n        result.push(element);\n    }\n    console.log(result);\n    return result;\n}\n\n\nconst BarChartComponent = (props) => {\n    const styles = {\n        root: {},\n        text: {\n            textAlign: \"center\"\n        }\n    }\n    const {citizens} = useSelector(state => state.citizens);\n    const [data, setData] = useState([]);\n    const [year, setYear] = useState(\"\");\n    const handleChange = (e) => {\n        setYear(e.target.value);\n    }\n    const handleClick = () => {\n        setData(caculateData(citizens, year));\n    }\n    useEffect(() => {\n        setData(caculateData(citizens, props.year))\n    }, [])\n    return (\n        <div>\n            <BarChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 5,\n                    right: 30,\n                    left: 20,\n                    bottom: 5\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" />\n                <YAxis domain={[0, 10]} />\n                <Tooltip />\n                {/* <Legend /> */}\n                <Bar dataKey=\"male\" fill=\"#8884d8\" />\n                <Bar dataKey=\"female\" fill=\"#82ca9d\" />\n            </BarChart>\n            {props.year ? <p style={styles.text}>Năm {props.year}</p> : \n            <div style={styles.text}>\n                <TextField onChange={handleChange} id=\"outlined-basic\" label=\"Năm\" placeholder=\"Nhập năm muốn thống kê\"  variant=\"outlined\" value={year}/>\n                <Button onClick={handleClick} variant=\"contained\">Tra cứu</Button>\n            </div>}\n\n        </div>\n    );\n}\nexport default BarChartComponent;"]},"metadata":{},"sourceType":"module"}